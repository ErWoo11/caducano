<!DOCTYPE html>
<html lang="es">
<head>
  <!-- Metadatos para compartir -->
  <meta property="og:title" content="CaducaNo">
  <meta property="og:description" content="Tu botiqu√≠n sin sorpresas. 100% local ‚Äî Sin nube. Sin anuncios. Tu salud, tu control.">
  <meta property="og:image" content="https://erwoo11.github.io/caducano/logo-og.png">
  <meta property="og:url" content="https://erwoo11.github.io/caducano/">
  <meta property="og:type" content="website">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="CaducaNo">
  <meta name="twitter:description" content="Tu botiqu√≠n sin sorpresas. 100% local ‚Äî Sin nube. Sin anuncios. Tu salud, tu control.">
  <meta name="twitter:image" content="https://erwoo11.github.io/caducano/logo.png">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CaducaNo - Tu botiqu√≠n sin sorpresas</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="logo.png">
  <!-- Manifest para PWA -->
  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#4A90E2">
  <!-- iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="CaducaNo">
  <link rel="apple-touch-icon" href="logo.png">
</head>
<body>
  <!-- Bot√≥n de configuraci√≥n (engranajes) -->
  <button class="settings-btn" id="settingsBtn">‚öôÔ∏è</button>
  <div class="dropdown" id="dropdown">
    <h3>‚öôÔ∏è Ajustes</h3>
    <div class="dropdown-item">
      <button onclick="compartirApp()" style="background:none; border:none; padding:0; color:var(--azul); font-weight:600; cursor:pointer;">
        üì§ Compartir aplicaci√≥n
      </button>
    </div>
    <div class="dropdown-item">
      <button onclick="borrarTodos()" style="background:none; border:none; padding:0; color:var(--rojo); font-weight:600; cursor:pointer;">
        üóëÔ∏è Borrar todos los medicamentos
      </button>
    </div>
    <div class="dropdown-item">Versi√≥n: <strong>1.0</strong></div>
    <div class="dropdown-item">Autor: <strong>JTEJBAE ¬©</strong></div>
  </div>

  <!-- Contenido principal -->
  <div class="logo-container">
    <img src="logo.png" alt="CaducaNo" width="192" height="192">
  </div>

  <h1>CaducaNo</h1>
  <p class="slogan">Tu botiqu√≠n sin sorpresas.</p>
  
  <button class="btn" onclick="location.href='agregar.html'">
    <span>‚ûï</span> Agregar medicamento
  </button>
  <button class="btn" onclick="location.href='medicamentos.html'">
    <span>üìã</span> Ver medicamentos
  </button>

  <p class="footer">100% local ‚Äî Sin nube. Sin anuncios. Tu salud, tu control.</p>

  <style>
    :root {
      --azul: #4A90E2;
      --verde: #7ED321;
      --rojo: #E74C3C;
      --blanco: #FFFFFF;
      --fondo: #F8F9FA;
      --gris: #333;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    body {
      background-color: var(--fondo);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
      text-align: center;
      position: relative;
    }

    /* Bot√≥n de ajustes */
    .settings-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      background: none;
      border: none;
      font-size: 24px;
      color: var(--azul);
      cursor: pointer;
      padding: 8px;
      border-radius: 50%;
      z-index: 100;
    }

    .settings-btn:hover {
      background-color: rgba(74, 144, 226, 0.1);
    }

    /* Men√∫ desplegable */
    .dropdown {
      position: absolute;
      top: 60px;
      right: 20px;
      background: var(--blanco);
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      padding: 16px;
      width: 280px;
      display: none;
      z-index: 99;
      text-align: left;
    }

    .dropdown.show {
      display: block;
    }

    .dropdown h3 {
      font-size: 16px;
      margin-bottom: 12px;
      color: var(--gris);
    }

    .dropdown-item {
      padding: 10px 0;
      border-bottom: 1px solid #eee;
      font-size: 15px;
      color: var(--gris);
    }

    .dropdown-item:last-child {
      border-bottom: none;
    }

    .logo-container {
      width: 192px;
      height: 192px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .logo-container img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      background-color: transparent;
    }

    h1 {
      color: var(--gris);
      font-weight: 600;
      font-size: 24px;
      margin-bottom: 8px;
    }

    .slogan {
      color: #666;
      font-size: 16px;
      margin-bottom: 24px;
    }

    .btn {
      background-color: var(--verde);
      color: var(--blanco);
      border: none;
      padding: 14px 30px;
      border-radius: 30px;
      font-size: 18px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(126, 211, 33, 0.3);
      transition: transform 0.2s, box-shadow 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin: 10px 0;
      width: 280px;
      max-width: 90%;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 14px rgba(126, 211, 33, 0.4);
    }

    .footer {
      margin-top: 40px;
      font-size: 13px;
      color: #999;
    }
  </style>

  <script>
    // Alternar men√∫ desplegable
    document.getElementById('settingsBtn').addEventListener('click', function() {
      document.getElementById('dropdown').classList.toggle('show');
    });

    document.addEventListener('click', function(e) {
      const dropdown = document.getElementById('dropdown');
      const btn = document.getElementById('settingsBtn');
      if (!dropdown.contains(e.target) && !btn.contains(e.target)) {
        dropdown.classList.remove('show');
      }
    });

    function borrarTodos() {
      if (!confirm('‚ö†Ô∏è ¬øSeguro que quieres borrar TODOS los medicamentos?')) return;
      if (!confirm('üî¥ ¬°Atenci√≥n! Esta acci√≥n eliminar√° permanentemente todos tus medicamentos. ¬øConfirmar?')) return;
      localStorage.removeItem('caducanoInventario');
      alert('‚úÖ Todos los medicamentos han sido borrados con √©xito.');
      document.getElementById('dropdown').classList.remove('show');
    }

    function compartirApp() {
  const url = 'https://erwoo11.github.io/caducano/'; // üëà URL fija y p√∫blica
  const title = 'CaducaNo';
  const text = 'Tu botiqu√≠n sin sorpresas. 100% local ‚Äî Sin nube. Sin anuncios.';

  if (navigator.share) {
    navigator.share({ title, text, url }).catch(console.error);
  } else {
    navigator.clipboard.writeText(url).then(() => {
      alert('üîó Enlace copiado. P√©galo en WhatsApp para ver el logo.');
    });
  }
}

    // Registrar service worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js')
          .catch(console.error);
      });
    }
  </script>
</body>
</html>